<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebSite">

<head>
  <meta charset="UTF-8">
  <title>GDPR Cookie control for web developers - Finetune</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preload" as="font" href="/fine-tune-2020-dev/fonts/etc-trispace-bold.a36b69.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="/fine-tune-2020-dev/fonts/etc-trispace-medium.205719.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="/fine-tune-2020-dev/fonts/etc-trispace-regular.647168.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="/fine-tune-2020-dev/fonts/anton-regular.556918.woff2" type="font/woff2" crossorigin>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="HandheldFriendly" content="true">
  <meta name="description" content="A simple, open source, free cookie control, for web developers wishing to comply with the GDPR legislation">
  <meta property="og:title" content="GDPR Cookie control for web developers - Finetune">
  <meta property="og:description" content="A simple, open source, free cookie control, for web developers wishing to comply with the GDPR legislation">
  <meta property="og:type" content="website">
  <meta property="og:url" content="/fine-tune-2020-dev/insights/gdpr-cookie-control-for-web-developers/">
  <meta property="og:site_name" content="Finetune">
  <meta property="og:image" content="/fine-tune-2020-dev/img/og/og-gdpr-cookie-control-for-web-developers.jpg">
  <meta itemprop="image" content="/fine-tune-2020-dev/img/og/og-gdpr-cookie-control-for-web-developers.jpg">
  <link rel="image_src" href="/fine-tune-2020-dev/img/og/og-gdpr-cookie-control-for-web-developers.jpg">
  <link rel="apple-touch-icon" sizes="180x180" href="/fine-tune-2020-dev/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/fine-tune-2020-dev/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/fine-tune-2020-dev/img/favicon/favicon-16x16.png">
  <link rel="manifest" href="/fine-tune-2020-dev/site.webmanifest">
  <link rel="mask-icon" href="/fine-tune-2020-dev/img/favicon/safari-pinned-tab.svg" color="#2e38ef">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="theme-color" content="#d7f2db">
  <script>
    window.gdpr = {
      "addTag": function (tag, attr, content) {
        var newTag = document.createElement(tag);
        for (var prop in attr) {
          if (!attr.hasOwnProperty(prop)) continue;
          newTag.setAttribute(prop, attr[prop]);
        }
        if (content) newTag.innerHTML = content;
        var scripts = document.getElementsByTagName("script");
        var here = scripts[scripts.length - 1];
        here.parentElement.insertBefore(newTag, here.nextSibling);
      }
    };
    var gdprChoice = document.cookie.match(new RegExp('(^| )gdpr=([^;]+)'));
    window.gdpr.choice = gdprChoice ? (gdprChoice[0].split('=')[1] == 'true') : null;
  </script>
  <!-- Google Tag Manager -->
  <script>
    if (window.gdpr) {
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
          'gtm.start': new Date().getTime(),
          event: 'gtm.js'
        });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src =
          'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', 'GTM-PQ3XP7N');
    }
  </script>
  <!-- End Google Tag Manager -->
<link href="../../css/app.css" rel="stylesheet"></head>

<body>
  <a href="#main" class="skip bg-interactive-blue small text-uppercase pad-vert-tiny">Skip to content <span class="shape sh-arrow-down"></span></a>

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PQ3XP7N" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <input type="checkbox" name="nav-toggle" id="nav-toggle" class="sr-only toggle d-md-none">

  <header class="brd-bottom d-md-none pad-vert-tiny toggle-container">
    <div class="container">
      <div class="row">
        <p class="col-8 flush">
          <a href="/fine-tune-2020-dev/" title="Return to the home page">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 721 159.1" width="721" height="159" fill="currentColor" aria-label="Finetune Partners" class="logo-finetune">
              <path d="M197 8h51v12h-38v13h36v12h-36v22h-13zM277 20v35h-17v12h47V55h-17V20h17V8h-47v12zM377 8v59h-13l-33-40v40h-13V8h13l33 40V8zM389 8h55v12h-41v12h39v11h-39v12h41v12h-55zM477 20h-23V8h60v12h-23v47h-14zM524 40V8h13v32c0 10 6 15 16 15s16-5 16-15V8h13v32c0 17-12 28-29 28-18 0-29-11-29-28zM652 8v59h-12l-34-40v40h-12V8h12l34 40V8zM664 8h56v12h-43v12h41v11h-41v12h43v12h-56zM197 91h36c14 0 23 7 23 18v1c0 12-9 19-23 19h-23v20h-13zm36 26c6 0 9-2 9-7v-1c0-4-3-6-9-6h-23v14zM317 146v3h-13l-5-12h-29l-6 12h-13v-3l26-55h15zm-23-21l-8-21h-3l-9 21zM386 111v-1c0-12-9-19-23-19h-36v58h13v-21h23l7 21h15l-9-23a16 16 0 0010-15zm-46-8h23c6 0 9 2 9 6v1c0 5-3 7-9 7h-23zM655 111v-1c0-12-8-19-22-19h-37v58h14v-21h23l6 21h15l-8-23a16 16 0 009-15zm-45-8h23c6 0 9 2 9 6v1c0 5-3 7-9 7h-23zM414 103h-22V91h58v12h-22v46h-14zM518 91v58h-13l-33-39v39h-13V91h13l33 39V91zM530 91h55v12h-42v11h40v12h-40v11h42v12h-55zM663 130v-1h13v1c0 6 6 9 17 9 9 0 15-3 15-7 0-3-3-5-10-6l-15-2c-13-2-19-7-19-16v-1c0-11 10-17 27-17 19 0 29 7 29 19v1h-13v-1c0-5-5-8-16-8-9 0-14 2-14 6v1c0 2 3 4 9 5l15 2c14 2 20 7 20 16v1c0 12-10 18-29 18s-29-7-29-20z" />
              <path fill="#2e38ef" d="M0 89l10 32 23 25 30 13h34l30-13 23-25 10-32-4-33-16-29-27-20-33-7-33 7-27 20L4 56z" />
              <path fill="#fff" d="M92 74a71 71 0 016 7c7-5 11-14 11-23 0-13-7-24-18-24-13 0-21 12-21 26 0 16 18 23 18 37 0 7-4 15-14 15-8 0-14-7-15-11l-10 4c2 7 11 17 25 17 17 0 25-13 25-26 0-16-18-24-18-35s4-16 10-16 8 6 8 13c0 9-3 13-7 16z" />
              <path fill="#fff" d="M63 68l-5 10a40 40 0 0021 8c0-3-5-10-5-10l-11-8z" />
            </svg>
          </a>
        </p>
        <p class="col-4 flush text-right">
          <label for="nav-toggle" class="pad-vert-tiny text-interactive-blue" title="Expand navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="shape sh-ellipsis"></span>
          </label>
        </p>
      </div>
    </div>
  </header>

  <nav aria-label="Main" class="bt-white brd-bottom pad-vert-tiny main-nav toggle-container">
    <a href="/fine-tune-2020-dev/contact/" class="main-nav__marquee marquee d-block d-print-none d-md-none bg-interactive-blue semi-small text-uppercase mb-4" style="--tw: 65em; --ad: 12s;" title="Get in touch">
      <p class="marquee__child mb-2">
        Get in touch to find out more <span class="ic-arrow"></span>
        &nbsp; &nbsp;
        We turn casual browsers into committed buyers <span class="ic-arrow"></span>
      </p>
    </a>
    <div class="container">
      <div class="row">
        <p class="col-8 col-md-3 col-lg-2 flush">
          <a href="/fine-tune-2020-dev/" title="Return to the home page">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 721 159.1" width="721" height="159" fill="currentColor" aria-label="Finetune Partners" class="logo-finetune">
              <path d="M197 8h51v12h-38v13h36v12h-36v22h-13zM277 20v35h-17v12h47V55h-17V20h17V8h-47v12zM377 8v59h-13l-33-40v40h-13V8h13l33 40V8zM389 8h55v12h-41v12h39v11h-39v12h41v12h-55zM477 20h-23V8h60v12h-23v47h-14zM524 40V8h13v32c0 10 6 15 16 15s16-5 16-15V8h13v32c0 17-12 28-29 28-18 0-29-11-29-28zM652 8v59h-12l-34-40v40h-12V8h12l34 40V8zM664 8h56v12h-43v12h41v11h-41v12h43v12h-56zM197 91h36c14 0 23 7 23 18v1c0 12-9 19-23 19h-23v20h-13zm36 26c6 0 9-2 9-7v-1c0-4-3-6-9-6h-23v14zM317 146v3h-13l-5-12h-29l-6 12h-13v-3l26-55h15zm-23-21l-8-21h-3l-9 21zM386 111v-1c0-12-9-19-23-19h-36v58h13v-21h23l7 21h15l-9-23a16 16 0 0010-15zm-46-8h23c6 0 9 2 9 6v1c0 5-3 7-9 7h-23zM655 111v-1c0-12-8-19-22-19h-37v58h14v-21h23l6 21h15l-8-23a16 16 0 009-15zm-45-8h23c6 0 9 2 9 6v1c0 5-3 7-9 7h-23zM414 103h-22V91h58v12h-22v46h-14zM518 91v58h-13l-33-39v39h-13V91h13l33 39V91zM530 91h55v12h-42v11h40v12h-40v11h42v12h-55zM663 130v-1h13v1c0 6 6 9 17 9 9 0 15-3 15-7 0-3-3-5-10-6l-15-2c-13-2-19-7-19-16v-1c0-11 10-17 27-17 19 0 29 7 29 19v1h-13v-1c0-5-5-8-16-8-9 0-14 2-14 6v1c0 2 3 4 9 5l15 2c14 2 20 7 20 16v1c0 12-10 18-29 18s-29-7-29-20z" />
              <path fill="#2e38ef" d="M0 89l10 32 23 25 30 13h34l30-13 23-25 10-32-4-33-16-29-27-20-33-7-33 7-27 20L4 56z" />
              <path fill="#fff" d="M92 74a71 71 0 016 7c7-5 11-14 11-23 0-13-7-24-18-24-13 0-21 12-21 26 0 16 18 23 18 37 0 7-4 15-14 15-8 0-14-7-15-11l-10 4c2 7 11 17 25 17 17 0 25-13 25-26 0-16-18-24-18-35s4-16 10-16 8 6 8 13c0 9-3 13-7 16z" />
              <path fill="#fff" d="M63 68l-5 10a40 40 0 0021 8c0-3-5-10-5-10l-11-8z" />
            </svg>
          </a>
        </p>
        <p class="col-4 d-md-none text-right mb-5">
          <label for="nav-toggle" class="brd-all round icon-tiny icon-sq" title="Hide navigation" aria-label="Hide navigation">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" role="img" aria-label="Close">
              <line x1="23" y1="1" x2="1" y2="23"></line>
              <line x1="1" y1="1" x2="23" y2="23"></line>
            </svg>
          </label>
        </p>
        <div class="col-12 col-md d-print-none">
          <h2 class="d-md-none h6 type-etc-bold text-reset mb-4 text-center mt-5">Navigation</h2>
          <a href="/fine-tune-2020-dev/about/" class="btn btn-nav">About</a>
          <a href="/fine-tune-2020-dev/services/" class="btn btn-nav">Services</a>
          <!--a href="/fine-tune-2020-dev/work/" class="btn btn-nav">Work</a-->
          <em><a href="/fine-tune-2020-dev/insights/" class="btn btn-nav">Insights</a></em>
          <a href="/fine-tune-2020-dev/contact/" class="btn btn-nav d-block d-md-none mb-5">Contact</a>
        </div>
        <p class="col-4 text-right d-none d-md-block flush"><a href="/fine-tune-2020-dev/contact/" class="btn btn-primary btn-small flush">Get in touch</a></p>
      </div>
      <div class="text-center d-block d-md-none">
        <p class="small text-uppercase">&copy; 2020 Finetune Partners &bull;
          <br>
          <a href="/fine-tune-2020-dev/terms/" class="btn">Terms of Use</a> &bull; <a href="/fine-tune-2020-dev/privacy-policy/" class="btn">Privacy Policy</a></p>
        <p>
          <a href="https://www.linkedin.com/company/72778083/" target="_blank" class="brd-all round icon-tiny icon-sq" title="Connect with us on LinkedIn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="currentColor" role="img" aria-label="LinkedIn">
              <path d="M12.44 24.79c7.4 0 12.03-4.89 11.96-11-.06-6.23-4.56-11-11.83-11C5.37 2.8.61 7.57.61 13.8c0 6.11 4.57 11 11.7 11zM55.92 97.2V61.64c0-1.93.19-3.8.7-5.21 1.55-3.8 5.02-7.72 10.87-7.72 7.65 0 10.74 5.86 10.74 14.4v34.1H99.4V60.67c0-19.56-10.42-28.69-24.37-28.69-10.97 0-16.04 5.85-18.87 10.19l-.23.35v-9.06H34.76v.1c.03 1 .24 9.95 0 63.63zm-32.87 0V33.47H1.83V97.2z" />
            </svg>
          </a>
        </p>
      </div>
    </div>
  </nav>

  <main id="main">
    <article>

      <header aria-label="GDPR Cookie control for web developers" class="bt-mint pad-vert-large">
        <div class="container">
          <aside class="row justify-content-center">
            <p class="col-lg-10"><a href="/fine-tune-2020-dev/insights/" class="btn text-uppercase text-interactive-blue"><span class="shape sh-arrow-left"></span> Back to insights</a></p>
          </aside>
          <div class="row">
            <div class="offset-lg-1 col-lg-9">
              <h1 class="h2"><abbr title="General Data Protection Regulation">GDPR</abbr> Cookie control for web developers</h1>
            </div>
            <aside class="col">
              <p class="overscore">5 minute read</p>
              <p class="type-etc-medium small text-uppercase text-grey">Code, GDPR, Legal, Open Source</p>
              <p class="d-print-none">Share</p>
              <p data-js="share-links" class="d-print-none">
                <a href="https://twitter.com/intent/tweet" target="_blank" class="round bg-interactive-blue icon-small icon-sq" title="Share this article on Twitter">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="currentColor" aria-label="Twitter">
                    <path d="M31.35 91.63c37 0 57.26-30.67 57.26-57.26 0-.87 0-1.74-.06-2.6a40.89 40.89 0 0 0 10-10.41A40.33 40.33 0 0 1 87 24.52a20.18 20.18 0 0 0 8.85-11.13 40.21 40.21 0 0 1-12.75 4.89 20.14 20.14 0 0 0-34.29 18.35 57.1 57.1 0 0 1-41.47-21 20.14 20.14 0 0 0 6.23 26.87A20 20 0 0 1 4.43 40v.25a20.15 20.15 0 0 0 16.15 19.68 20.09 20.09 0 0 1-9.09.34 20.15 20.15 0 0 0 18.8 14A40.38 40.38 0 0 1 .51 82.59a57 57 0 0 0 30.84 9" />
                  </svg>
                </a>
                <a href="https://www.facebook.com/sharer/sharer.php" target="_blank" class="round bg-interactive-blue icon-small icon-sq" title="Share this article on Facebook">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="currentColor" aria-label="Facebook">
                    <path d="M57.7 99.66v-45.3h15.16l2.33-17.66H57.7V25.41c0-5.07 1.37-8.6 8.71-8.6h9.37V1.06c-1.6-.24-7.16-.72-13.6-.72-13.5 0-22.74 8.24-22.74 23.34V36.7H24.22v17.67h15.22v45.29z" />
                  </svg>
                </a>
                <a href="https://www.linkedin.com/sharing/share-offsite/" target="_blank" class="round bg-interactive-blue icon-small icon-sq" title="Share this article on LinkedIn">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="currentColor" aria-label="LinkedIn">
                    <path d="M12.44 24.79c7.4 0 12.03-4.89 11.96-11-.06-6.23-4.56-11-11.83-11C5.37 2.8.61 7.57.61 13.8c0 6.11 4.57 11 11.7 11zM55.92 97.2V61.64c0-1.93.19-3.8.7-5.21 1.55-3.8 5.02-7.72 10.87-7.72 7.65 0 10.74 5.86 10.74 14.4v34.1H99.4V60.67c0-19.56-10.42-28.69-24.37-28.69-10.97 0-16.04 5.85-18.87 10.19l-.23.35v-9.06H34.76v.1c.03 1 .24 9.95 0 63.63zm-32.87 0V33.47H1.83V97.2z" />
                  </svg>
                </a>
              </p>
            </aside>
          </div><!-- .row -->
        </div>
      </header>

      <div class="split-mint-1-5">
        <div class="container">
          <div class="row">
            <p class="offset-lg-1 col-lg-9"><img src="/fine-tune-2020-dev/img/blog/full-gdpr-cookie-control-for-web-developers.jpg" alt="" class="img-fluid"></p>
          </div>
          <div class="row">
            <div class="offset-lg-2 col-lg-6 pad-vert-large">
              <p><small><a href="#let-me-see-the-code">Don't bore us, get to the chorus</a></small></p>

              <p class="lead text-uppercase"><strong>Dunno about you, but I don't feel safe wandering the streets of the Internet without <a href="https://www.mozilla.org/firefox/" target="_blank">Firefox</a>, <a href="https://privacybadger.org/" target="_blank">Privacy Badger</a> and <a href="https://ublockorigin.com/" target="_blank">uBlock Origin</a>. Browsing without these three in place (in a metaphor I'm confident will upset no-one) would be like walking down a street without a facemask.</strong></p>

              <p>One of the side effects of using these plugins is that they keep a running total of the stuff they've blocked, in a wee counter above the icon. This has given me a sort of gauge of just how compliant (or not) websites are of the <abbr title="General Data Protection Regulation">GDPR</abbr> rules.</p>
            </div>
          </div>
          <p><img src="/fine-tune-2020-dev/img/blog/img-privacy-notifications.png" alt="The browser icons for Privacy Badger and uBlock origin showing how many trackers they've blocked"></p>
          <div class="row">
            <div class="offset-lg-2 col-lg-6 pad-vert-large">

              <p>Only a tiny part of the rules refer to cookies, but my reading of it is "don't use any tracking cookies until the user has explicitly opted in to them". Despite this, a huge number of sites get such cookies blocked by uBlock Origin before I've consented to have them on my hard drive (spoiler: I don't consent).</p>

              <h2 class="h3">Current cookie control services</h2>

              <p>All of the current cookie controls are - understandably - aimed at those working in client service. They allow users to dynamically add JavaScript to their site and sort it into different categories, all without bothering a web developer. As a result, these controls are either branded or require an ongoing cost.</p>

              <p>What surprised me is that there doesn't seem to be a genuinely free, client-side, fully-customisable cookie control which you can download once and use forever.</p>

              <p>So I wrote one.</p>

              <h2 class="h3">Premise</h2>

              <p>This is how I see an ideal flow:</p>

              <ol>
                <li>The user arrives at the page</li>
                <li>No tracking cookies are added by the site</li>
                <li>The user is asked if they accept cookies or not</li>
                <li>Their preference is stored</li>
                <li>After that point, tracking cookies are stored (or not)</li>
                <li>Everyone just goes about their day</li>
              </ol>

              <h2 class="h3">Setup</h2>

              <p>My cookie control starts by creating a namespace called <code>gdpr</code> and attaching it to the <code>window</code> object.</p>

              <p>It adds a function called <code>addTag</code> which lets developers inject HTML tags into the page at the same location where the function is called.</p>

              <p>This all needs to happen before <em>any</em> other JavaScript gets added to the site, ideally within the <code>head</code> element.</p>

              <h2 class="h3">Cookie check</h2>

              <p>The control uses a single cookie to store the user preferences on the site. This can hold three values:</p>

              <ol>
                <li><code>null</code> - the user has yet to make a choice</li>
                <li><code>true</code> - the user is happy to accept all cookies</li>
                <li><code>false</code> - the user doesn't want <em>any</em> cookies, thank you very much</li>
              </ol>

              <p>(note that other more fully-featured cookie controls allow you to sort different cookies into different categories, but this was more functionality than I needed)</p>

              <p>This cookie is checked once, as early as possible, and this value is written to the <code>gdpr</code> namespace. I do this because my guess is checking a cookie is expensive and time consuming, where as the window object is a bit more local.</p>

              <h2 class="h3">Importing JavaScript (or anything else)</h2>

              <p>Now it's just a case of adding <code>if</code> statements around elements you want to include. For example, here's how to load in jQuery from a <abbr title="Content Delivery Network">CDN</abbr>:<br>
              </p>
            </div>
          </div>
        <pre><code class="language-html">&lt;script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"&gt;
&lt;/script&gt;</code></pre>
          <div class="row">
            <div class="offset-lg-2 col-lg-6 pad-vert-large">
              <p>(I appreciate that this is an unrealistic example as jQuery doesn't bake any cookies, but it's more about how you can include multiple attributes onto the <code>script</code> tag)</p>
              <p>Here's how you could import jQuery using the cookie control:</p>
            </div>
          </div>
        <pre><code class="language-html">&lt;script&gt;
if (window.gdpr.choice) {
  window.gdpr.addTag('script',{
    'src': 'https://code.jquery.com/jquery-3.5.1.min.js',
    'integrity': 'sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=',
    'crossorigin': 'anonymous'
  });
}
&lt;/script&gt;</code></pre>
          <div class="row">
            <div class="offset-lg-2 col-lg-6 pad-vert-large">
              <p>Services such as <a href="https://disqus.com/">Disqus</a> are even simpler (and don't even require the <code>addTag()</code> function):<br>
              </p>
            </div>
          </div>
        <pre><code class="language-html">&lt;script&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;
&lt;script&gt;
if (window.gdpr.choice) {
  (function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = 'https://EXAMPLE.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
}
&lt;/script&gt;
&lt;noscript&gt;Please enable JavaScript to view the
&lt;a href="https://disqus.com/?ref_noscript"&gt;
comments powered by Disqus.&lt;/a&gt;&lt;/noscript&gt;
&lt;/script&gt;</code></pre>
          <div class="row">
            <div class="offset-lg-2 col-lg-6 pad-vert-large">

              <h2 class="h3">Adding YouTube videos</h2>

              <p><code>addTag()</code> isn't just limited to <code>script</code> tags, of course. Here's how you could add a YouTube video:<br>
              </p>

            </div>
          </div>
        <pre><code class="language-js">if (window.gdpr.choice) {
  window.gdpr.addTag('iframe',{
      'width': '560',
      'height': '315',
      'src': 'https://www.youtube.com/embed/gsQQgfRay88',
      'frameborder': 0,
      'allow': 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture',
      'allowfullscreen': true
  });
} else {
  window.gdpr.addTag('p','','Please enable cookies to see this YouTube video');
}</code></pre>
          <div class="row">
            <div class="offset-lg-2 col-lg-6 pad-vert-large">
              <p>Note how you can use an <code>else</code> statement to serve up alternate content. Also, it's possible to add YouTube videos in <q>privacy-enhanced mode</q>, but you might not want to do this for $$$ reasons. I won't judge you.</p>

              <h2 class="h3">Other JavaScript</h2>

              <p>Finally, there's a JavaScript file which can be included anywhere towards the end of the page. This does the following:</p>

              <ul>
                <li>Double-checks that the <code>gdpr</code> namespace exists (perhaps the code hasn't been added correctly)</li>
                <li>Creates the markup for your cookie control and adds it to your page</li>
                <li>Sets up the click events on the <q>yes please</q> and <q>no thanks</q> buttons</li>
                <li>Sets up the click event for the button for the user to change their mind</li>
              </ul>

              <h2 class="h3">How does this work?</h2>

              <p>Because that <code>if</code> statement is checking the value of the <code>window.gdpr.choice</code> variable, it won't let any code through which doesn't have a true or <em>truthy</em> value. As both <code>false</code> and <code>null</code> are <q>falsey</q> values, nothing gets loaded in without the explicit say-so of the user.</p>

              <h2 class="h3">Cookie lifetime</h2>

              <p>The regulations say that we can only assume that consent is given for no longer than one year. After that time, it needs to be requested again. The JavaScript will ask for consent two days before the deadline <a href="https://dev.to/rossangus/a-horrible-coincidence-3fbj" target="_blank">for daft code optimisation reasons</a>.</p>

              <h2 class="h3">Other features</h2>

              <p>The regulations say that users need to be given the option to change their mind (without waiting nearly a year). Users can call up the cookie control element by clicking on an element with a <code>data-js="cookie-config"</code> attribute. This usually gets hidden in the footer, but could hover in the corner of the viewport, if you prefer.</p>

              <h2 class="h3">Limitations</h2>

              <h3 class="h4">Cookies load on second page impression</h3>

              <p>I built this with a focus on performance. This means that even after the user has accepted cookies, the external JavaScript won't load immediately: a full page refresh (or more realistically, navigating to a new page) is required. This means that the user's first experience of your site will be as unencumbered as possible. Think of it as the trial version of the site. The cache is nicely warmed up with all your local CSS, JavaScript, images and typefaces. It loads really fast. The user says to themselves <q>yeah, let's accept this site's cookies</q>, then they navigate to the next page with the additional overhead of whatever lurks in <abbr title="Google Tag Manager">GTM</abbr>.</p>

              <p>Some cookie controls take a similar approach and force a page refresh after the choice is made. It would also be possible to have a slightly more elegant solution: to loop through the <code>script</code> tags on the page and see if there's anything which can load, based on the user's choice to opt-in. But that's not how this currently works.</p>

              <h3 class="h4">Cookies are not sorted by type</h3>

              <p>You've probably seen cookie controls which bewilder the user by offering them options to opt in to cookies in some categories, but not others. I've no idea how this might benefit the user (and I suspect this is part of some dark <abbr title="User Experience">UX</abbr> pattern). This doesn't have that functionality.</p>

              <h3 class="h4">This is not for folk who dislike code</h3>

              <p>This does not have a nice front end. It's code, all the way down. This pushes the management of cookies directly onto the slumped shoulders of your web developer.</p>

              <h2 class="h3">Let me see the code</h2>

              <p>This looks as dull as possible for good reason: you have complete freedom to style it as you need. Note that for boring <code>iframe</code> reasons, you might get better results testing <a href="https://cdpn.io/ross-angus/debug/GRqwzQX/RBrOJRLvnVnM" target="_blank">the debug version</a> of that CodePen, rather than the fancy one below.</p>

            </div>
          </div>
          <p class="gutter-xlarge"><iframe src="https://codepen.io/ross-angus/embed/GRqwzQX?height=600&amp;default-tab=result&amp;embed-version=2" scrolling="no" allowtransparency="true" loading="lazy" style="width: 100%;" height="600" frameborder="no">
          </iframe></p>
        </div>
      </div>

    </article>

    <aside class="container d-print-none gutter-xlarge" aria-label="Related">

      <h2 class="text-center gutter-xlarge">Related</h2>

      <div class="row gutter-base">

        <section class="col gutter-medium" aria-label="What To Look For When Hiring A Conversion Rate Optimisation (CRO) Expert">
          <a href="/fine-tune-2020-dev/insights/what-to-look-for-when-hiring-a-conversion-rate-optimisation-cro-expert/" class="box-link">
            <div class="box-link__child">
              <p><img src="/fine-tune-2020-dev/img/blog/cta-what-to-look-for-when-hiring-a-conversion-rate-optimisation-cro-expert.jpg" class="img-fluid" alt=""></p>
              <p class="type-etc-medium small text-uppercase text-grey"><abbr>CRO</abbr>, Marketing, Mobile</p>
              <h3 class="h5">What To Look For When Hiring A Conversion Rate Optimisation (<abbr title="Conversion Rate Optimisation">CRO</abbr>) Expert</h3>
              <p>Conversion rate optimisation is very much a multi-faceted discipline. It sits on the boundaries of technical and non-technical roles and also spans both the logical and creative sides of the brain.</p>
            </div>
          </a>
        </section>

        <div class="w-100 d-block d-sm-none"></div>

        <section class="col gutter-medium" aria-label="How To Improve Conversions From Mobiles On Your E-commerce Site ">
          <a href="/fine-tune-2020-dev/insights/how-to-optimise-your-e-commerce-site-for-mobile/" class="box-link">
            <div class="box-link__child">
              <p><img src="/fine-tune-2020-dev/img/blog/cta-how-to-optimise-your-e-commerce-site-for-mobile.jpg" class="img-fluid" alt=""></p>
              <p class="type-etc-medium small text-uppercase text-grey">Conversion Strategy Data-Informed Design eCommerce</p>
              <h3 class="h5">How To Improve Conversions From Mobiles On Your E-commerce Site</h3>
              <p>Optimising the mobile experience has become an essential part of many digital businesses in today’s world.</p>
            </div>
          </a>
        </section>

        <div class="w-100 d-block d-xl-none"></div>

        <section class="col gutter-medium" aria-label="How To Optimise Your E-commerce Checkout">
          <a href="/fine-tune-2020-dev/insights/how-to-optimise-your-e-commerce-checkout/" class="box-link">
            <div class="box-link__child">
              <p><img src="/fine-tune-2020-dev/img/blog/cta-how-to-optimise-your-e-commerce-checkout.jpg" class="img-fluid" alt=""></p>
              <p class="type-etc-medium small text-uppercase text-grey">CRO eCommerce</p>
              <h3 class="h5">How To Optimise Your E-commerce Checkout</h3>
              <p>Optimising online checkout processes is an essential tool in any optimiser’s armoury.</p>
            </div>
          </a>
        </section>

        <div class="w-100 d-block d-sm-none"></div>

        <section class="col gutter-medium" aria-label="How To Get Started With Conversion Rate Optimisation (CRO)">
          <a href="/fine-tune-2020-dev/insights/how-to-get-started-with-conversion-rate-optimisation-cro/" class="box-link">
            <div class="box-link__child">
              <p><img src="/fine-tune-2020-dev/img/blog/cta-how-to-get-started-with-conversion-rate-optimisation-cro.jpg" class="img-fluid" alt=""></p>
              <p class="type-etc-medium small text-uppercase text-grey"><abbr title="Conversion Rate Optimisation">CRO</abbr></p>
              <h3 class="h5">How To Get Started With Conversion Rate Optimisation (<abbr>CRO</abbr>)</h3>
              <p>Getting started with Conversion Rate Optimisation is easier than that you might think.</p>
            </div>
          </a>
        </section>

      </div><!-- .row -->

    </aside><!-- .container -->

  </main>

  <a href="/fine-tune-2020-dev/contact/" class="marquee d-block bg-interactive-blue semi-small text-uppercase d-print-none" style="--tw: 65em; --ad: 12s;" title="Get in touch">
    <p class="marquee__child mb-1">
      Get in touch to find out more <span class="ic-arrow"></span>
      &nbsp; &nbsp;
      We turn casual browsers into committed buyers <span class="ic-arrow"></span>
    </p>
  </a>

  <footer class="bg-deep-blue text-center-sm">
    <div class="container mt-5">
      <div class="row d-print-none">
        <div class="col-lg-4 col-md offset-md-0 col-sm-8 offset-sm-2">
          <div class="row">
            <p class="col-4 offset-4 offset-md-0 col-md-3">
              <a href="/fine-tune-2020-dev/" title="Return to the home page">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 160 159.1" aria-label="Finetune Partners">
                  <path fill="#2e38ef" d="M33 146l30 13h34l30-13 23-25 10-32-4-33-16-29-27-20-33-7-33 7-27 20L4 56 0 89l10 32z" />
                  <path fill="#fff" d="M92 74a71 71 0 016 7c7-5 11-14 11-23 0-13-7-24-18-24-13 0-21 12-21 26 0 16 18 23 18 37 0 7-4 15-14 15-8 0-14-7-15-11l-10 4c2 7 11 17 25 17 17 0 25-13 25-26 0-16-18-24-18-35s4-16 10-16 8 6 8 13c0 9-3 13-7 16z" />
                  <path fill="#fff" d="M63 68l-5 10a40 40 0 0021 8c0-3-5-10-5-10l-11-8z" />
                </svg>
              </a>
            </p>
          </div>

          <p class="h4">We turn casual browsers into committed buyers</p>
        </div>
        <nav class="col-12 col-md-3 col-xl-3 offset-md-1 offset-lg-0 offset-xl-1" aria-label="Footer">
          <h2 class="h6 type-etc-bold text-reset mb-4">Navigation</h2>
          <div class="text-uppercase semi-small mb-5">
            <p><a href="/fine-tune-2020-dev/about/" class="btn">About</a></p>
            <p><a href="/fine-tune-2020-dev/services/" class="btn">Services</a></p>
            <p><a href="/fine-tune-2020-dev/work/" class="btn">Work</a></p>
            <p><a href="/fine-tune-2020-dev/insights/" class="btn">Insights</a></p>
            <p><a href="/fine-tune-2020-dev/contact/" class="btn">Contact</a></p>
          </div>
        </nav>
        <div class="col-md-5 col-lg-5 col-xl-4 mb-5">
          <h2 class="h6 type-etc-bold text-reset mb-4">Information</h2>
          <address itemprop="address" itemscope itemtype="http://schema.org/PostalAddress">
            <span itemprop="streetAddress">16 Garthdee Farm Gardens,</span><br>
            <span itemprop="addressLocality">Aberdeen</span><br>
            <span itemprop="postalCode">AB10 7GF</span><br>
            <a href="mailto:angela@finetunepartners.com" itemprop="email" class="text-uppercase btn">
              <span class="d-inline d-md-none d-lg-inline text-forcewrap">angela@finetunepartners.com</span>
              <span class="d-none d-md-inline d-lg-none">email us</span>
            </a><br>
            <a href="tel:+447850052664" itemprop="telephone" class="btn">0785 005 2664</a>
          </address>
        </div>
      </div>
      <hr class="brd-white">
      <div class="row">
        <p class="col-sm-10 small text-uppercase">&copy; 2020 Finetune Partners <span class="d-print-none">&bull; <a href="/fine-tune-2020-dev/terms/" class="btn">Terms of Use</a> &bull; <a href="/fine-tune-2020-dev/privacy-policy/" class="btn">Privacy Policy</a> &bull; <a href="/fine-tune-2020-dev/master-services-agreement/" class="btn">Master Services Agreement</a> &bull; <button type="button" class="btn" data-js="cookie-config">Edit cookie settings</button></span></p>
        <p class="col-sm-2 text-right text-center-sm d-print-none">
          <a href="https://www.linkedin.com/company/72778083/" target="_blank" class="brd-all round icon-tiny icon-sq" title="Connect with us on LinkedIn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="currentColor" role="img" aria-label="LinkedIn">
              <path d="M12.44 24.79c7.4 0 12.03-4.89 11.96-11-.06-6.23-4.56-11-11.83-11C5.37 2.8.61 7.57.61 13.8c0 6.11 4.57 11 11.7 11zM55.92 97.2V61.64c0-1.93.19-3.8.7-5.21 1.55-3.8 5.02-7.72 10.87-7.72 7.65 0 10.74 5.86 10.74 14.4v34.1H99.4V60.67c0-19.56-10.42-28.69-24.37-28.69-10.97 0-16.04 5.85-18.87 10.19l-.23.35v-9.06H34.76v.1c.03 1 .24 9.95 0 63.63zm-32.87 0V33.47H1.83V97.2z" />
            </svg>
          </a>
        </p>
      </div>
    </div>
  </footer>
<script type="text/javascript" src="../../js/app.js"></script></body>

</html>