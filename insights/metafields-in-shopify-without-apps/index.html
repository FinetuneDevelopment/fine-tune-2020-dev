<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebSite">

<head>
  <meta charset="UTF-8">
  <title>Metafields in Shopify without apps - Finetune Partners</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preload" as="font" href="/fine-tune-2020-dev/fonts/etc-trispace-bold.a36b69.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="/fine-tune-2020-dev/fonts/etc-trispace-medium.205719.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="/fine-tune-2020-dev/fonts/etc-trispace-regular.647168.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="/fine-tune-2020-dev/fonts/anton-regular.556918.woff2" type="font/woff2" crossorigin>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="HandheldFriendly" content="true">
  <meta name="description" content="How to create and edit metafields, then display them in a theme, without paying for an app">
  <meta property="og:title" content="Metafields in Shopify without apps - Finetune">
  <meta property="og:description" content="How to create and edit metafields, then display them in a theme, without paying for an app">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://finetunepartners.com/insights/metafields-in-shopify-without-apps/">
  <link rel="canonical" href="https://finetunepartners.com/insights/metafields-in-shopify-without-apps/">
  <meta property="og:site_name" content="Finetune">
  <meta property="og:image" content="/fine-tune-2020-dev/img/og/og-metafields-in-shopify-without-apps.jpg">
  <meta itemprop="image" content="/fine-tune-2020-dev/img/og/og-metafields-in-shopify-without-apps.jpg">
  <link rel="image_src" href="/fine-tune-2020-dev/img/og/og-metafields-in-shopify-without-apps.jpg">
  <link rel="apple-touch-icon" sizes="180x180" href="/fine-tune-2020-dev/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/fine-tune-2020-dev/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/fine-tune-2020-dev/img/favicon/favicon-16x16.png">
  <link rel="manifest" href="/fine-tune-2020-dev/site.webmanifest">
  <link rel="mask-icon" href="/fine-tune-2020-dev/img/favicon/safari-pinned-tab.svg" color="#2e38ef">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="theme-color" content="#d7f2db">
  <meta name="google-site-verification" content="Q_pU1NcVNhRdEntMQE-K2ZMEpCTRbSdOEtMpk_8iVCQ">
  <script>
    window.gdpr = {
      "addTag": function (tag, attr, content) {
        var newTag = document.createElement(tag);
        for (var prop in attr) {
          if (!attr.hasOwnProperty(prop)) continue;
          newTag.setAttribute(prop, attr[prop]);
        }
        if (content) newTag.innerHTML = content;
        var scripts = document.getElementsByTagName("script");
        var here = scripts[scripts.length - 1];
        here.parentElement.insertBefore(newTag, here.nextSibling);
      }
    };
    var gdprChoice = document.cookie.match(new RegExp('(^| )gdpr=([^;]+)'));
    window.gdpr.choice = gdprChoice ? (gdprChoice[0].split('=')[1] == 'true') : null;
  </script>
  <!-- Google Tag Manager -->
  <script>
    if (window.gdpr.choice) {
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
          'gtm.start': new Date().getTime(),
          event: 'gtm.js'
        });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src =
          'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', 'GTM-PQ3XP7N');
    }
  </script>
  <!-- End Google Tag Manager -->
<link href="../../css/app.css" rel="stylesheet"></head>

<body>
  <a href="#main" class="skip bg-interactive-blue small text-uppercase pad-vert-tiny">Skip to content <span class="shape sh-arrow-down"></span></a>

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PQ3XP7N" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <input type="checkbox" name="nav-toggle" id="nav-toggle" class="sr-only toggle d-md-none">

  <header class="brd-bottom d-md-none pad-vert-tiny toggle-container">
    <div class="container">
      <div class="row">
        <p class="col-8 flush">
          <a href="/fine-tune-2020-dev/" title="Return to the home page">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 721 159.1" width="721" height="159" fill="currentColor" aria-label="Finetune Partners" class="logo-finetune">
              <path d="M197 8h51v12h-38v13h36v12h-36v22h-13zM277 20v35h-17v12h47V55h-17V20h17V8h-47v12zM377 8v59h-13l-33-40v40h-13V8h13l33 40V8zM389 8h55v12h-41v12h39v11h-39v12h41v12h-55zM477 20h-23V8h60v12h-23v47h-14zM524 40V8h13v32c0 10 6 15 16 15s16-5 16-15V8h13v32c0 17-12 28-29 28-18 0-29-11-29-28zM652 8v59h-12l-34-40v40h-12V8h12l34 40V8zM664 8h56v12h-43v12h41v11h-41v12h43v12h-56zM197 91h36c14 0 23 7 23 18v1c0 12-9 19-23 19h-23v20h-13zm36 26c6 0 9-2 9-7v-1c0-4-3-6-9-6h-23v14zM317 146v3h-13l-5-12h-29l-6 12h-13v-3l26-55h15zm-23-21l-8-21h-3l-9 21zM386 111v-1c0-12-9-19-23-19h-36v58h13v-21h23l7 21h15l-9-23a16 16 0 0010-15zm-46-8h23c6 0 9 2 9 6v1c0 5-3 7-9 7h-23zM655 111v-1c0-12-8-19-22-19h-37v58h14v-21h23l6 21h15l-8-23a16 16 0 009-15zm-45-8h23c6 0 9 2 9 6v1c0 5-3 7-9 7h-23zM414 103h-22V91h58v12h-22v46h-14zM518 91v58h-13l-33-39v39h-13V91h13l33 39V91zM530 91h55v12h-42v11h40v12h-40v11h42v12h-55zM663 130v-1h13v1c0 6 6 9 17 9 9 0 15-3 15-7 0-3-3-5-10-6l-15-2c-13-2-19-7-19-16v-1c0-11 10-17 27-17 19 0 29 7 29 19v1h-13v-1c0-5-5-8-16-8-9 0-14 2-14 6v1c0 2 3 4 9 5l15 2c14 2 20 7 20 16v1c0 12-10 18-29 18s-29-7-29-20z" />
              <path fill="#2e38ef" d="M0 89l10 32 23 25 30 13h34l30-13 23-25 10-32-4-33-16-29-27-20-33-7-33 7-27 20L4 56z" />
              <path fill="#fff" d="M92 74a71 71 0 016 7c7-5 11-14 11-23 0-13-7-24-18-24-13 0-21 12-21 26 0 16 18 23 18 37 0 7-4 15-14 15-8 0-14-7-15-11l-10 4c2 7 11 17 25 17 17 0 25-13 25-26 0-16-18-24-18-35s4-16 10-16 8 6 8 13c0 9-3 13-7 16z" />
              <path fill="#fff" d="M63 68l-5 10a40 40 0 0021 8c0-3-5-10-5-10l-11-8z" />
            </svg>
          </a>
        </p>
        <p class="col-4 flush text-right">
          <label for="nav-toggle" class="pad-vert-tiny text-interactive-blue" title="Expand navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="shape sh-ellipsis"></span>
          </label>
        </p>
      </div>
    </div>
  </header>

  <nav aria-label="Main" class="bt-white brd-bottom pad-vert-tiny main-nav toggle-container">
    <a href="/fine-tune-2020-dev/contact/" class="main-nav__marquee marquee d-block d-print-none d-md-none bg-interactive-blue semi-small text-uppercase mb-4" style="--tw: 65em; --ad: 12s;" title="Get in touch">
      <p class="marquee__child mb-2">
        Get in touch to find out more <span class="ic-arrow"></span>
        &nbsp; &nbsp;
        We turn casual browsers into committed buyers <span class="ic-arrow"></span>
      </p>
    </a>
    <div class="container">
      <div class="row">
        <p class="col-8 col-md-3 col-lg-2 flush">
          <a href="/fine-tune-2020-dev/" title="Return to the home page">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 721 159.1" width="721" height="159" fill="currentColor" aria-label="Finetune Partners" class="logo-finetune">
              <path d="M197 8h51v12h-38v13h36v12h-36v22h-13zM277 20v35h-17v12h47V55h-17V20h17V8h-47v12zM377 8v59h-13l-33-40v40h-13V8h13l33 40V8zM389 8h55v12h-41v12h39v11h-39v12h41v12h-55zM477 20h-23V8h60v12h-23v47h-14zM524 40V8h13v32c0 10 6 15 16 15s16-5 16-15V8h13v32c0 17-12 28-29 28-18 0-29-11-29-28zM652 8v59h-12l-34-40v40h-12V8h12l34 40V8zM664 8h56v12h-43v12h41v11h-41v12h43v12h-56zM197 91h36c14 0 23 7 23 18v1c0 12-9 19-23 19h-23v20h-13zm36 26c6 0 9-2 9-7v-1c0-4-3-6-9-6h-23v14zM317 146v3h-13l-5-12h-29l-6 12h-13v-3l26-55h15zm-23-21l-8-21h-3l-9 21zM386 111v-1c0-12-9-19-23-19h-36v58h13v-21h23l7 21h15l-9-23a16 16 0 0010-15zm-46-8h23c6 0 9 2 9 6v1c0 5-3 7-9 7h-23zM655 111v-1c0-12-8-19-22-19h-37v58h14v-21h23l6 21h15l-8-23a16 16 0 009-15zm-45-8h23c6 0 9 2 9 6v1c0 5-3 7-9 7h-23zM414 103h-22V91h58v12h-22v46h-14zM518 91v58h-13l-33-39v39h-13V91h13l33 39V91zM530 91h55v12h-42v11h40v12h-40v11h42v12h-55zM663 130v-1h13v1c0 6 6 9 17 9 9 0 15-3 15-7 0-3-3-5-10-6l-15-2c-13-2-19-7-19-16v-1c0-11 10-17 27-17 19 0 29 7 29 19v1h-13v-1c0-5-5-8-16-8-9 0-14 2-14 6v1c0 2 3 4 9 5l15 2c14 2 20 7 20 16v1c0 12-10 18-29 18s-29-7-29-20z" />
              <path fill="#2e38ef" d="M0 89l10 32 23 25 30 13h34l30-13 23-25 10-32-4-33-16-29-27-20-33-7-33 7-27 20L4 56z" />
              <path fill="#fff" d="M92 74a71 71 0 016 7c7-5 11-14 11-23 0-13-7-24-18-24-13 0-21 12-21 26 0 16 18 23 18 37 0 7-4 15-14 15-8 0-14-7-15-11l-10 4c2 7 11 17 25 17 17 0 25-13 25-26 0-16-18-24-18-35s4-16 10-16 8 6 8 13c0 9-3 13-7 16z" />
              <path fill="#fff" d="M63 68l-5 10a40 40 0 0021 8c0-3-5-10-5-10l-11-8z" />
            </svg>
          </a>
        </p>
        <p class="col-4 d-md-none text-right mb-5">
          <label for="nav-toggle" class="brd-all round icon-tiny icon-sq" title="Hide navigation" aria-label="Hide navigation">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" role="img" aria-label="Close">
              <line x1="23" y1="1" x2="1" y2="23"></line>
              <line x1="1" y1="1" x2="23" y2="23"></line>
            </svg>
          </label>
        </p>
        <div class="col-12 col-md d-print-none">
          <h2 class="d-md-none h6 type-etc-bold text-reset mb-4 text-center mt-5">Navigation</h2>
          <a href="/fine-tune-2020-dev/about/" class="btn btn-nav">About</a>
          <a href="/fine-tune-2020-dev/services/" class="btn btn-nav">Services</a>
          <!--a href="/fine-tune-2020-dev/work/" class="btn btn-nav">Work</a-->
          <em><a href="/fine-tune-2020-dev/insights/" class="btn btn-nav">Insights</a></em>
          <a href="/fine-tune-2020-dev/contact/" class="btn btn-nav d-block d-md-none mb-5">Contact</a>
        </div>
        <p class="col-4 text-right d-none d-md-block flush"><a href="/fine-tune-2020-dev/contact/" class="btn btn-primary btn-small flush">Get in touch</a></p>
      </div>
      <div class="text-center d-block d-md-none">
        <p class="small text-uppercase">&copy; 2021 Finetune Partners &bull;
          <br>
          <a href="/fine-tune-2020-dev/terms/" class="btn">Terms of Use</a> &bull; <a href="/fine-tune-2020-dev/privacy-policy/" class="btn">Privacy Policy</a></p>
        <p>
          <a href="https://www.linkedin.com/company/72778083/" target="_blank" class="brd-all round icon-tiny icon-sq" title="Connect with us on LinkedIn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="currentColor" role="img" aria-label="LinkedIn">
              <path d="M12.44 24.79c7.4 0 12.03-4.89 11.96-11-.06-6.23-4.56-11-11.83-11C5.37 2.8.61 7.57.61 13.8c0 6.11 4.57 11 11.7 11zM55.92 97.2V61.64c0-1.93.19-3.8.7-5.21 1.55-3.8 5.02-7.72 10.87-7.72 7.65 0 10.74 5.86 10.74 14.4v34.1H99.4V60.67c0-19.56-10.42-28.69-24.37-28.69-10.97 0-16.04 5.85-18.87 10.19l-.23.35v-9.06H34.76v.1c.03 1 .24 9.95 0 63.63zm-32.87 0V33.47H1.83V97.2z" />
            </svg>
          </a>
        </p>
      </div>
    </div>
  </nav>

  <main id="main">
    <article itemscope itemtype="https://schema.org/NewsArticle">

      <header aria-label="Metafields in Shopify without apps" class="bt-mint pad-vert-large">
        <div class="container">
          <aside class="row justify-content-center">
            <p class="col-lg-10"><a href="/fine-tune-2020-dev/insights/" class="btn text-uppercase text-interactive-blue"><span class="shape sh-arrow-left"></span> Back to insights</a></p>
          </aside>
          <div class="row">
            <div class="offset-lg-1 col-lg-9">
              <h1 class="h2" itemprop="headline">Metafields in Shopify without apps</h1>
            </div>
            <aside class="col">
              <p class="overscore">9 minute read</p>
              <p itemprop="keywords" class="type-etc-medium small text-uppercase text-grey">Code, Shopify, Metafields, eCommerce</p>
              <p class="d-print-none">Share</p>
              <p data-js="share-links" class="d-print-none">
                <a href="https://twitter.com/intent/tweet" target="_blank" class="round bg-interactive-blue icon-small icon-sq" title="Share this article on Twitter">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="currentColor" aria-label="Twitter">
                    <path d="M31.35 91.63c37 0 57.26-30.67 57.26-57.26 0-.87 0-1.74-.06-2.6a40.89 40.89 0 0 0 10-10.41A40.33 40.33 0 0 1 87 24.52a20.18 20.18 0 0 0 8.85-11.13 40.21 40.21 0 0 1-12.75 4.89 20.14 20.14 0 0 0-34.29 18.35 57.1 57.1 0 0 1-41.47-21 20.14 20.14 0 0 0 6.23 26.87A20 20 0 0 1 4.43 40v.25a20.15 20.15 0 0 0 16.15 19.68 20.09 20.09 0 0 1-9.09.34 20.15 20.15 0 0 0 18.8 14A40.38 40.38 0 0 1 .51 82.59a57 57 0 0 0 30.84 9" />
                  </svg>
                </a>
                <a href="https://www.facebook.com/sharer/sharer.php" target="_blank" class="round bg-interactive-blue icon-small icon-sq" title="Share this article on Facebook">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="currentColor" aria-label="Facebook">
                    <path d="M57.7 99.66v-45.3h15.16l2.33-17.66H57.7V25.41c0-5.07 1.37-8.6 8.71-8.6h9.37V1.06c-1.6-.24-7.16-.72-13.6-.72-13.5 0-22.74 8.24-22.74 23.34V36.7H24.22v17.67h15.22v45.29z" />
                  </svg>
                </a>
                <a href="https://www.linkedin.com/sharing/share-offsite/" target="_blank" class="round bg-interactive-blue icon-small icon-sq" title="Share this article on LinkedIn">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="currentColor" aria-label="LinkedIn">
                    <path d="M12.44 24.79c7.4 0 12.03-4.89 11.96-11-.06-6.23-4.56-11-11.83-11C5.37 2.8.61 7.57.61 13.8c0 6.11 4.57 11 11.7 11zM55.92 97.2V61.64c0-1.93.19-3.8.7-5.21 1.55-3.8 5.02-7.72 10.87-7.72 7.65 0 10.74 5.86 10.74 14.4v34.1H99.4V60.67c0-19.56-10.42-28.69-24.37-28.69-10.97 0-16.04 5.85-18.87 10.19l-.23.35v-9.06H34.76v.1c.03 1 .24 9.95 0 63.63zm-32.87 0V33.47H1.83V97.2z" />
                  </svg>
                </a>
              </p>
            </aside>
          </div><!-- .row -->
        </div>
      </header>

      <div class="split-mint-1-5" itemprop="articleBody">
        <div class="container">
          <div class="row">
            <p class="offset-lg-1 col-lg-9"><img itemprop="image" src="/fine-tune-2020-dev/img/blog/full-metafields-in-shopify-without-apps.jpg" alt="" class="img-fluid"></p>
          </div>
          <div class="row">
            <div class="offset-lg-2 col-lg-6 pad-vert-large">


            <p><small>Cover image by <a href="https://unsplash.com/@quasichiara">Chiara F</a></small></p>

            <p class="lead text-uppercase"><strong itemprop="abstract">Poke about in the documentation for Shopify long enough and you'll end up in <a href="https://shopify.dev/docs/themes/liquid/reference/objects/metafield" target="_blank">metafields</a>. Metafields promise to unlock more than just a single heading and <abbr title="What You See Is What The Frick">WYSIWTF</abbr> panel's worth of unique content on each page of your Shopify store.</strong></p>

            <p>However, your excitement will quickly be dashed, when you realise that in order to actually <em>add</em> any data into a metafield, you need to build (and host) your own app, or pay a monthly fee for a third-party one.</p>

            <p>But what if (bear with me here) you were particularly stubborn, and wanted to dabble in metafields, but not in app development? Boy, are <em>you</em> in the right place, buddy.</p>

            <h2 class="h3">Creating metafields</h2>

            <p>Hidden away in the depths of the Shopify documentation is a trick for <a href="https://www.shopify.co.uk/partners/blog/110057030-using-metafields-in-your-shopify-theme" target="_blank">using <abbr title="Uniform Resource Locator">URL</abbr> querystrings to open up the bulk editor with new metafields available to edit</a> (it's right at the bottom of the page).</p>

            <p>It works kinda like this:</p>

          </div>
        </div>
        <p><img src="/fine-tune-2020-dev/img/blog/img-url-anatomy.png" alt="An example URL with different parts of it labelled as shop name, content type, namespace, metafield name and data type"></p>
        <div class="row">
          <div class="offset-lg-2 col-lg-6 pad-vert-large">

            <p>So it's possible to edit metadata fields just by hacking away at query strings. But that's a miserable experience for anyone, no matter how much they love a <abbr title="Command Line Interface">CLI</abbr>. When I first saw the <abbr title="Uniform Resource Locator">URL</abbr> above, I figured I could build a form which (via a <code>get</code> request) could produce the same thing. It's a <em>little</em> more complicated than that, but not <em>that</em> much more.</p>

            <p>Here's the data I'd need to capture:</p>

            <ul>
              <li>What type of content the metafields are being attached to</li>
              <li>A namespace, so we can group similar metafields together</li>
              <li>
              <code>key</code> names, for the data we're capturing</li>
              <li>What type of data it is</li>
            </ul>

            <p><a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/snippets/metafield-add.liquid" target="_blank" class="btn btn-primary">View metafield-add on Github</a></p>

            <p>This'll also need some JavaScript, to concatenate together the different strings into the URL to generate new fields. As the metafield creation form is only used on one page, the JavaScript is inline at the bottom of the file.</p>
            <p>Completing this form will send you to Shopify's bulk editor, but rather than editing the built-in fields which are part of products and pages by default, it allows you to edit any number of arbitrary fields of your own devising.</p>

            <h2 class="h3">Structuring your data</h2>

            <p>Let's say you had a series of frequently asked questions about a particular product. You could structure your data like this:</p>

            <ul>
              <li><code>faq</code> (namespace)
                <ul>
                  <li><code>q-one</code> <q>Is this product suitable for vegans?</q></li>
                  <li><code>a-one</code> <q>Yes. This is a mug, but is not made from bone china.</q></li>
                  <li><code>q-two</code> <q>Is this product suitable for children?</q></li>
                  <li><code>a-two</code> <q>No. The slogan on the mug is <q>No. 1 Dad</q> and this is not a responsibility children are qualified to undertake.</q></li>
                </ul>
              </li>
            </ul>

            <p><q>Hold on a moment</q>, you're probably thinking, <q>why not use numbers instead of <q>one</q> and <q>two</q>?</q> While it's possible to get to the bulk editing screen using numbers, any data you enter against such a field will not be saved. That's why some of the inputs have that sneaky <code>pattern</code> attribute, to stop you from adding them.</p>

            <h2 class="h3">What if I need to edit form fields in the future?</h2>

            <p>If you attempt to add a new metafield which already has data against it, you'll simply see that data in place, once you reach the bulk editor.</p>

            <p>The <abbr title="Universal Resource Locator">URL</abbr> to batch edit the same set of meta-data will remain the same. Rather than filling out the form each time, why not include it on the site, as a link? This isn't <em>quite</em> as daft as it sounds, as you can hide this link for all users except those who are logged into the admin interface of Shopify (they're also the only group of users who will also be able to edit the content).</p>

            <p><a href="https://stackoverflow.com/questions/17470921/howto-check-if-current-visitor-is-shops-admin" target="_blank">Adding in content just for Shopify admin users</a> isn't out-of-the-box Shopify functionality, so there may come a time when this method stops working, but for now, this is how to do it.</p>

            <p>In <code>layout/theme.liquid</code> is the following snippet of code:</p>

            <pre><code class="language-liquid">{{ content_for_header }}</code></pre>

            <p>This generates a bunch of meta-tags and JavaScript intended to sit within the <code>head</code> of your site controlling various aspects of Shopify's functionality. By turning this into a string and looking for patterns within it, we can work out if the current user is an admin or not.</p>
            <p>Luckily, <code>{{ content_for_header }}</code> is global which means we're not just limited to using it in <code>theme.liquid</code>.</p>
            <p>I've made this into another <a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/snippets/admin-check.liquid">snippet in Mannequin, which you can find on Github</a>. Note that it returns a <em>string</em>, rather than a boolean and one with whitespace around it too. This means we need to do a little work, before it's useful:</p>
          </div>
        </div>
      <pre><code class="language-liquid">{% capture tempadmin %}{% render 'admin-check' %}{% endcapture %}
{% assign admin = tempadmin | strip %}</code></pre>
        <div class="row">
          <div class="offset-lg-2 col-lg-6 pad-vert-large">
            <p>Because you (mostly) can't change the values of variables in Liquid, we first assign a temporary variable the value of the admin check snippet. This then gets <code>strip</code>ped of its whitespace, when it's assigned to the <em>real</em> variable, <code>admin</code>. We use <code>admin</code> like this:</p>
          </div>
        </div>
      <pre><code class="language-liquid">{% if admin == 'true' %}
  &lt;p&gt;
    &lt;a href="/fine-tune-2020-dev/admin/bulk?resource_name=Product&edit=metafields.faq.q-one%3Astring%2Cmetafields.faq.a-one%3Astring%2Cmetafields.faq.q-two%3Astring%2Cmetafields.faq.a-two%3Astring%2Cmetafields.faq.q-three%3Astring%2Cmetafields.faq.a-three%3Astring%2Cmetafields.faq.q-four%3Astring%2Cmetafields.faq.a-four%3Astring"&gt;
      Edit metadata
    &lt;/a&gt;
  &lt;/p&gt;
{% endif %}</code></pre>
        <div class="row">
          <div class="offset-lg-2 col-lg-6 pad-vert-large">
            <p>That big, ugly <abbr>URL</abbr> is what is generated by the form we made earlier. Because this markup only appears in <code>product.liquid</code>, the <abbr>URL</abbr> is specific to that set of meta-data. If you wanted to add an edit link for another set of meta-data, you could generate one using <a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/snippets/metafield-add.liquid" target="_blank">the add metafield form</a>.</p>

            <h2 class="h3">What if I want to expand the set of captures metafields at a later date?</h2>
            <p>The querystring which the metafield form generates goes both ways - it can be passed to the Shopify bulk editor, to generate a spreadsheet-like way of editing content, but it can <em>also</em> be passed back to the metafield form, in order to pre-populate it with the correct values.</p>
            <p>If you wanted to add a fifth <abbr>FAQ</abbr> question, you could take the original querystring and add it to the end of wherever you store your metafield page, make the adjustments to the form, then generate a new <abbr>URL</abbr>. Content authors who use this will see all of the existing data, plus new cells for them to add the new <abbr>FAQ</abbr> question and answer.</p>

            <h2 class="h3">How can I see the data which is saved against content elements?</h2>

            <p>I'm so glad you asked. <a href="https://shopify.dev/docs/admin-api/rest/reference/metafield" target="_blank">The Shopify documentation points at <abbr>URL</abbr>s</a> which will show you the <abbr title="JavaScript Object Notation">JSON</abbr> for individual elements. But that would be more <abbr>URL</abbr> hacking. Luckily, however, <a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/snippets/metafield-view.liquid" target="_blank">Mannequin has another snippet for viewing existing metafield data</a>.</p>

            <p><a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/snippets/metafield-view.liquid" target="_blank" class="btn btn-secondary">View metafield-view on Github</a></p>

            <p>This form will create five <code>select</code> boxes which contain a list of (respectively) your pages (specifically, all the pages which appear in linklists), your products, your blog articles, your collections and your product variants.</p>

            <p><a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/snippets/metafield-view-articles.liquid">The snippet which lists the articles</a> needs a <em>tiny</em> bit of configuration, around this line:</p>

            <pre><code class="language-liquid">{% assign all_blogs = "news" | split: "," %}</code></pre>

            <p>This should be adjusted to be a comma-delimited list of all of the blogs in your site (if you have more than one). For example:</p>

            <pre><code class="language-liquid">{% assign all_blogs = "news,how-to" | split: "," %}</code></pre>

            <p>There's some inline JavaScript, which redirects content authors to the correct <abbr>JSON</abbr> file.</p>
            <p>This JavaScript loops through the values of the select boxes (marked with a <code>data-js="auto"</code> attribute) until it finds one where the user has made a selection. It takes the <code>id</code> from that select box, plus the <code>value</code> (which, confusingly, is the <code>id</code> of that particular content item), then passes them onto a function called <code>bounce()</code>.</p>

            <h3>Wait, what about performance?</h3>
            <p>Shopify stores can have thousands of products, with some of those having perhaps ten variations. This will generate some <em>huge</em> select boxes. While this isn't a page intended for your customers, performance may still be an issue. This is why each select box appears as a separate snippet, allowing you to split them out onto different pages, if required (remember to include <a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/assets/metafield-view.js">metafield-view.js</a> on that page, if you do this).</p>

            <h3>Is this secure?</h3>
            <p>While you probably don't want your customers stumbling upon your metafield editing pages, all those pages are doing is generating links which point to the <code>/admin/</code> section of your site. Even if your customers (or competitors) <em>did</em> stumble upon this page, they'd still need valid credentials to either see or edit any of your data. The only information you're giving out is a list of your products, plus their identification numbers, but I assume your catalog page already does that.</p>

            <p>You could also hide all of the content behind the <code>admin</code> variable, so that your customers would just see a blank page:</p>

            <pre><code class="language-liquid">{% if admin == 'true' %}
  (metafield forms go here)
{% endif %}</code></pre>

            <h3>So what does this do, exactly?</h3>

            <p>This allows you to see all of the metafields for a particular content item, in <abbr>JSON</abbr> format, or as I like to think of it, <q>the poor man's <abbr title="eXtensible Markup Language">XML</abbr></q>.</p>

            <p>We can, in theory, <a href="https://shopify.dev/docs/admin-api/rest/reference/metafield" target="_blank">add metafields to a lot more types of content</a> than the five this form allows you to see. Specifically:</p>

            <ul>
              <li>Blog (because you can have more than one blog on your site)</li>
              <li>Customer</li>
              <li>Draft Order</li>
              <li>Order</li>
              <li>Product Image</li>
            </ul>

            <p>However, during my testing, I couldn't successfully add metafields to all of these types of data, which suggests it's impossible, using just the <abbr>URL</abbr> interface.</p>

            <h2 class="h3">How do I get this to appear in the front end?</h2>

            <p>So this is all great fun, but what use is it, unless we can burp this content out at the user? Let's have a look at some example JSON generated by metafields:</p>
          </div>
        </div>
      <pre><code class="language-js">{
  "metafields": [
      {
          "id": 12345678901233,
          "namespace": "faq",
          "key": "q-one",
          "value": "Is this suitable for a man over fifty?",
          "value_type": "string",
          "description": null,
          "owner_id": 1234567890123,
          "created_at": "2020-12-08T11:01:54-05:00",
          "updated_at": "2020-12-08T11:01:54-05:00",
          "owner_resource": "product"
      },
      {
          "id": 12345678901234,
          "namespace": "faq",
          "key": "a-one",
          "value": "Yes - there are no offensive gifts inside",
          "value_type": "string",
          "description": null,
          "owner_id": 1234567890123,
          "created_at": "2020-12-08T11:01:54-05:00",
          "updated_at": "2020-12-08T11:01:54-05:00",
          "owner_resource": "product"
      }
  ]
}</code></pre>
        <div class="row">
          <div class="offset-lg-2 col-lg-6 pad-vert-large">
            <p>We could edit our <code>product.liquid</code> template to reflect this on the front end like this:</p>
          </div>
        </div>
      <pre><code class="language-liquid">{% comment %}
Check if there's anything in our <abbr title="Frequently Asked Questions">FAQ</abbr> namespace
{% endcomment %}
{% if product.metafields.faq.size > 0 %}

  {% unless product.metafields.faq.q-one == blank %}
    &lt;h2&gt;{{ product.metafields.faq.q-one }}&lt;/h2&gt;
  {% endunless %}

  {% unless product.metafields.faq.a-one == blank %}
    &lt;p&gt;{{ product.metafields.faq.a-one }}&lt;/p&gt;
  {% endunless %}

{% endif %}</code></pre>
        <div class="row">
          <div class="offset-lg-2 col-lg-6 pad-vert-large">


            <p><small>(I enjoy the perversity of using <code>unless</code> tags, because every other language just makes use of <code>if</code>)</small></p>

            <p>Let's take a closer look at the business-end of that liquid tag:</p>
          </div>
        </div>
        <p><img src="/fine-tune-2020-dev/img/blog/img-liquid-tag-breakdown.png" alt="A liquid tag which orders the data as follows: data type, metafields, namespace and metafield key. Each value is separated with full-stops."></p>
        <div class="row">
          <div class="offset-lg-2 col-lg-6 pad-vert-large">
            <p>Here's another example: what if you added an <code>image</code> metafield to pages, in the <code>global</code> namespace? The tag for that would be:</p>

            <pre><code class="language-liquid">{{ page.metafields.global.image }}</code></pre>

            <h2 class="h3">OK, I've done that. Now how do I <em>delete</em> metadata?</h2>

            <p>We've been using the <code>get</code> method of forms to sort of fake API access up until now. The <code>get</code> and <code>post</code> form methods mirror HTTP functionality, which also includes another method, <code>delete</code>. There <em>was</em> a brief moment when Firefox supported the <code>delete</code> method. But it looks like <a href="https://softwareengineering.stackexchange.com/questions/114156/why-are-there-are-no-put-and-delete-methods-on-html-forms" target="_blank">it's not going to become part of a standard anytime soon</a>.</p>

            <p>However, if you edit an old metafield and then remove its content, it will disappear from the JSON.</p>

            <h2 class="h3">Dependencies</h2>

            <p>Mannequin doesn't have any dependencies outside of the repo, but the metafields functionality is quite modular. This was done to allow it to be spread over several pages, if required. The files are as follows:</p>
            <ul>
              <li><a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/templates/page.metafields.liquid" target="_blank"><code>page.metafields.liquid</code></a></li>
              <li><a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/snippets/metafield-add.liquid" target="_blank"><code>metafield-add.liquid</code></a></li>
              <li><a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/snippets/metafield-view-articles.liquid" target="_blank"><code>metafield-view-articles.liquid</code></a></li>
              <li><a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/snippets/metafield-view-collections.liquid" target="_blank"><code>metafield-view-collections.liquid</code></a></li>
              <li><a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/snippets/metafield-view-pages.liquid" target="_blank"><code>metafield-view-pages.liquid</code></a></li>
              <li><a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/snippets/metafield-view-product-variants.liquid" target="_blank"><code>metafield-view-product-variants.liquid</code></a></li>
              <li><a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/snippets/metafield-view-products.liquid" target="_blank"><code>metafield-view-products.liquid</code></a></li>
              <li><a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/snippets/metafield-view.liquid" target="_blank"><code>metafield-view.liquid</code></a></li>
              <li><a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/assets/metafield-view.js" target="_blank"><code>metafield-view.js</code></a></li>
              <li><a href="https://github.com/FinetuneDevelopment/mannequin/blob/main/snippets/page-images.liquid" target="_blank"><code>page-images.liquid</code></a> (this is not required for functionality, but is referenced from <code>page.metafields.liquid</code>)</li>
            </ul>
        </div>
      </div>

    </article>

    <aside class="container d-print-none gutter-xlarge" aria-label="Related">

      <h2 class="text-center gutter-xlarge">Related</h2>

      <div class="row gutter-base">

        <article itemscope itemtype="https://schema.org/NewsArticle" class="col-sm-6 col-lg-4 col-xl-3 gutter-medium" aria-label="Introducing Mannequin, Finetune Partner's Shopify library">
          <a href="/fine-tune-2020-dev/insights/introducing-mannequin-shopify-library/" class="box-link">
            <div class="box-link__child">
              <p><img itemprop="image" src="/fine-tune-2020-dev/img/blog/cta-introducing-mannequin-shopify-library.jpg" class="img-fluid" alt=""></p>
              <p itemprop="keywords" class="type-etc-medium small text-uppercase text-grey">Shopify, liquid, eCommerce, Open Source</p>
              <h3 class="h5" itemprop="headline">Introducing Mannequin, Finetune Partner's Shopify library</h3>
              <p>Mannequin is a library of templates which extends the functionality of Shopify without the use of apps</p>
            </div>
          </a>
        </article>

        <article itemscope itemtype="https://schema.org/NewsArticle" class="col-sm-6 col-lg-4 col-xl-3 gutter-medium" aria-label="Running a Strategic CRO Programme: In Graphs. Part 2: The Strategic Output Model">
          <a href="/fine-tune-2020-dev/insights/running-a-strategic-cro-programme2/" class="box-link">
            <div class="box-link__child">
              <p><img itemprop="image" src="/fine-tune-2020-dev/img/blog/cta-running-a-strategic-cro-programme2.jpg" class="img-fluid" alt=""></p>
              <p itemprop="keywords" class="type-etc-medium small text-uppercase text-grey">Conversion Strategy eCommerce</p>
              <h3 class="h5" itemprop="headline">Running a Strategic CRO Programme: In Graphs. Part 2: The Strategic Output Model</h3>
              <p>In the second part of our &quot;CRO: In Graphs&quot; series, we’re going to turn our attention to the Strategic Output Model.</p>
            </div>
          </a>
        </article>

        <article itemscope itemtype="https://schema.org/NewsArticle" class="col-sm-6 col-lg-4 col-xl-3 gutter-medium" aria-label="GDPR Cookie control for web developers">
          <a href="/fine-tune-2020-dev/insights/gdpr-cookie-control-for-web-developers/" class="box-link">
            <div class="box-link__child">
              <p><img itemprop="image" src="/fine-tune-2020-dev/img/blog/cta-gdpr-cookie-control-for-web-developers.jpg" class="img-fluid" alt=""></p>
              <p itemprop="keywords" class="type-etc-medium small text-uppercase text-grey">Code, GDPR, Legal, Open Source</p>
              <h3 class="h5" itemprop="headline"><abbr title="General Data Protection Regulation">GDPR</abbr> Cookie control for web developers</h3>
              <p>A simple, open source, free cookie control, for web developers wishing to comply with the GDPR legislation.</p>
            </div>
          </a>
        </article>

        <article itemscope itemtype="https://schema.org/NewsArticle" class="col-sm-6 col-lg-4 col-xl-3 gutter-medium" aria-label="Managing user addresses in Shopify">
          <a href="/fine-tune-2020-dev/insights/managing-user-addresses-in-shopify/" class="box-link">
            <div class="box-link__child">
              <p><img itemprop="image" src="/fine-tune-2020-dev/img/blog/cta-managing-user-addresses-in-shopify.jpg" class="img-fluid" alt=""></p>
              <p itemprop="keywords" class="type-etc-medium small text-uppercase text-grey">Shopify, liquid, eCommerce</p>
              <h3 class="h5" itemprop="headline">Managing user addresses in Shopify</h3>
              <p>Building the addresses.liquid template with full functionality</p>
            </div>
          </a>
        </article>

      </div><!-- .row -->

    </aside><!-- .container -->

  </main>

  <a href="/fine-tune-2020-dev/contact/" class="marquee d-block bg-interactive-blue semi-small text-uppercase d-print-none" style="--tw: 65em; --ad: 12s;" title="Get in touch">
    <p class="marquee__child mb-1">
      Get in touch to find out more <span class="ic-arrow"></span>
      &nbsp; &nbsp;
      We turn casual browsers into committed buyers <span class="ic-arrow"></span>
    </p>
  </a>

  <footer class="bg-deep-blue text-center-sm">
    <div class="container mt-5">
      <div class="row d-print-none">
        <div class="col-lg-4 col-md offset-md-0 col-sm-8 offset-sm-2">
          <div class="row">
            <p class="col-4 offset-4 offset-md-0 col-md-3">
              <a href="/fine-tune-2020-dev/" title="Return to the home page">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 160 159.1" aria-label="Finetune Partners">
                  <path fill="#2e38ef" d="M33 146l30 13h34l30-13 23-25 10-32-4-33-16-29-27-20-33-7-33 7-27 20L4 56 0 89l10 32z" />
                  <path fill="#fff" d="M92 74a71 71 0 016 7c7-5 11-14 11-23 0-13-7-24-18-24-13 0-21 12-21 26 0 16 18 23 18 37 0 7-4 15-14 15-8 0-14-7-15-11l-10 4c2 7 11 17 25 17 17 0 25-13 25-26 0-16-18-24-18-35s4-16 10-16 8 6 8 13c0 9-3 13-7 16z" />
                  <path fill="#fff" d="M63 68l-5 10a40 40 0 0021 8c0-3-5-10-5-10l-11-8z" />
                </svg>
              </a>
            </p>
          </div>

          <p class="h4">We turn casual browsers into committed buyers</p>
        </div>
        <nav class="col-12 col-md-3 col-xl-3 offset-md-1 offset-lg-0 offset-xl-1" aria-label="Footer">
          <h2 class="h6 type-etc-bold text-reset mb-4">Navigation</h2>
          <div class="text-uppercase semi-small mb-5">
            <p><a href="/fine-tune-2020-dev/about/" class="btn">About</a></p>
            <p><a href="/fine-tune-2020-dev/services/" class="btn">Services</a></p>
            <!--p><a href="/fine-tune-2020-dev/work/" class="btn">Work</a></p-->
            <p><a href="/fine-tune-2020-dev/insights/" class="btn">Insights</a></p>
            <p><a href="/fine-tune-2020-dev/contact/" class="btn">Contact</a></p>
          </div>
        </nav>
        <div class="col-md-5 col-lg-5 col-xl-4 mb-5">
          <h2 class="h6 type-etc-bold text-reset mb-4">Information</h2>
          <p>We're all working from home right now. Please email us at<br>
            <a href="mailto:hello@finetunepartners.com">hello@finetunepartners.com</a><br>
            We'd love to hear from you.</p>        </div>
      </div>
      <hr class="brd-white">
      <div class="row">
        <p class="col-sm-10 small text-uppercase">&copy; 2021 Finetune Partners <span class="d-print-none">&bull; <a href="/fine-tune-2020-dev/terms/" class="btn">Terms of Use</a> &bull; <a href="/fine-tune-2020-dev/privacy-policy/" class="btn">Privacy Policy</a> &bull; <a href="/fine-tune-2020-dev/master-services-agreement/" class="btn">Master Services Agreement</a> &bull; <button type="button" class="btn" data-js="cookie-config">Edit cookie settings</button></span></p>
        <p class="col-sm-2 text-right text-center-sm d-print-none">
          <a href="https://www.linkedin.com/company/72778083/" target="_blank" class="brd-all round icon-tiny icon-sq" title="Connect with us on LinkedIn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="currentColor" role="img" aria-label="LinkedIn">
              <path d="M12.44 24.79c7.4 0 12.03-4.89 11.96-11-.06-6.23-4.56-11-11.83-11C5.37 2.8.61 7.57.61 13.8c0 6.11 4.57 11 11.7 11zM55.92 97.2V61.64c0-1.93.19-3.8.7-5.21 1.55-3.8 5.02-7.72 10.87-7.72 7.65 0 10.74 5.86 10.74 14.4v34.1H99.4V60.67c0-19.56-10.42-28.69-24.37-28.69-10.97 0-16.04 5.85-18.87 10.19l-.23.35v-9.06H34.76v.1c.03 1 .24 9.95 0 63.63zm-32.87 0V33.47H1.83V97.2z" />
            </svg>
          </a>
        </p>
      </div>
    </div>
  </footer>
<script type="text/javascript" src="../../js/app.js"></script></body>

</html>